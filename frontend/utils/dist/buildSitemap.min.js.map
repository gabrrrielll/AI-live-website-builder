{"version":3,"sources":["buildSitemap.js"],"names":["fs","require","path","APP_CONFIG","generateSitemapDuringBuild","configPath","configData","siteConfig","baseUrl","sitemap","sitemapPath","regeneratorRuntime","async","_context","prev","next","process","cwd","readFileSync","JSON","parse","env","NEXT_PUBLIC_BASE_URL","BASE_SITE_URL","concat","Date","join","toISOString","articles","map","article","slug","updatedAt","writeFileSync","console","log","exports","stop","module"],"mappings":"aAAA,IAAMA,GAAKC,QAAQ,MACbC,KAAOD,QAAQ,iBADrBA,QAAA,mBAAQE,oBAAAA,WAKR,SAAeC,6BAAf,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EACI,IACUV,EALNF,KAAAA,KAK6Ba,QAHrCC,MAAA,SAAA,oBAIcX,EAAaN,GAAGkB,aAAab,EAAY,QACzCE,EAAaY,KAAKC,MAAMd,GAJtCE,EAAAQ,QAAAK,IAAAC,sBAAAnB,WAAAoB,cAAAd,EACQ,iIAAAe,OAAAhB,EAAA,6BAAAgB,QACMnB,IADNoB,MACwBC,cADxB,8HAAAF,OAqB6BhB,EArB7B,kCAAAgB,QAqBF,IArBEC,MAAAE,cAAA,0GAAAH,OAiCHjB,EAACqB,SAAcC,IAAA,SAAAC,GAAA,MAAA,6BAAAN,OAEfhB,EAFe,UAAAgB,OAEfM,EAAAC,KAFe,6BAAAP,OATDM,EAAQE,UASP,uGAlCpBN,KAAA,IACQ,eADRhB,EAAAR,KAAAwB,KAAAV,QAAAC,MAAA,SAAA,eAAAjB,GAAAiC,cAAAvB,EAAAD,GAiCQyB,QAAQC,IAAI,iDAMd,MAACC,GAAYhC,QAAAA,MAAAA,2CAAAA,GAvCnB,KAAA,EAAA,IAAA,MAAA,OAAAS,EAAAwB,UAuCAC,OAAOF,QAAU,CAAEhC,2BAAAA","file":"buildSitemap.min.js","sourcesContent":["const fs = require('fs');\r\nconst path = require('path');\r\nconst { APP_CONFIG } = require('../constants.js');\r\n\r\n// Funcție pentru generarea sitemap-ului în timpul build-ului\r\nasync function generateSitemapDuringBuild() {\r\n    try {\r\n        const configPath = path.join(process.cwd(), 'public', 'site-config.json');\r\n        const configData = fs.readFileSync(configPath, 'utf8');\r\n        const siteConfig = JSON.parse(configData);\r\n\r\n        const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || APP_CONFIG.BASE_SITE_URL;\r\n\r\n        const sitemap = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\r\n    <url>\r\n        <loc>${baseUrl}</loc>\r\n        <lastmod>${new Date().toISOString()}</lastmod>\r\n        <changefreq>daily</changefreq>\r\n        <priority>1.0</priority>\r\n    </url>\r\n    <url>\r\n        <loc>${baseUrl}/blog</loc>\r\n        <lastmod>${new Date().toISOString()}</lastmod>\r\n        <changefreq>daily</changefreq>\r\n        <priority>0.8</priority>\r\n    </url>\r\n    ${siteConfig.articles.map(article => `\r\n    <url>\r\n        <loc>${baseUrl}/blog/${article.slug}</loc>\r\n        <lastmod>${article.updatedAt}</lastmod>\r\n        <changefreq>weekly</changefreq>\r\n        <priority>0.6</priority>\r\n    </url>`).join('')}\r\n</urlset>`;\r\n\r\n        const sitemapPath = path.join(process.cwd(), 'public', 'sitemap.xml');\r\n        fs.writeFileSync(sitemapPath, sitemap);\r\n        console.log('✅ Sitemap generated successfully during build');\r\n    } catch (error) {\r\n        console.error('❌ Error generating sitemap during build:', error);\r\n    }\r\n}\r\n\r\nmodule.exports = { generateSitemapDuringBuild };\r\n"]}