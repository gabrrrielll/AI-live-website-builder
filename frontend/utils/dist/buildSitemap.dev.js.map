{"version":3,"sources":["buildSitemap.js"],"names":["fs","require","path","APP_CONFIG","generateSitemapDuringBuild","configPath","join","process","cwd","configData","readFileSync","siteConfig","JSON","parse","baseUrl","env","NEXT_PUBLIC_BASE_URL","BASE_SITE_URL","sitemap","Date","toISOString","articles","map","article","slug","updatedAt","sitemapPath","writeFileSync","console","log","error","module","exports"],"mappings":";;AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;eACuBA,OAAO,CAAC,iBAAD,C;IAAtBE,U,YAAAA,U,EAER;;;AACA,SAAeC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,cAAI;AACMC,YAAAA,UADN,GACmBH,IAAI,CAACI,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,QAAzB,EAAmC,kBAAnC,CADnB;AAEMC,YAAAA,UAFN,GAEmBT,EAAE,CAACU,YAAH,CAAgBL,UAAhB,EAA4B,MAA5B,CAFnB;AAGMM,YAAAA,UAHN,GAGmBC,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAHnB;AAKMK,YAAAA,OALN,GAKgBP,OAAO,CAACQ,GAAR,CAAYC,oBAAZ,IAAoCb,UAAU,CAACc,aAL/D;AAOMC,YAAAA,OAPN,iJAUOJ,OAVP,sCAWW,IAAIK,IAAJ,GAAWC,WAAX,EAXX,uIAgBON,OAhBP,2CAiBW,IAAIK,IAAJ,GAAWC,WAAX,EAjBX,mHAqBFT,UAAU,CAACU,QAAX,CAAoBC,GAApB,CAAwB,UAAAC,OAAO;AAAA,yDAEtBT,OAFsB,mBAENS,OAAO,CAACC,IAFF,sCAGlBD,OAAO,CAACE,SAHU;AAAA,aAA/B,EAMOnB,IANP,CAMY,EANZ,CArBE;AA8BMoB,YAAAA,WA9BN,GA8BoBxB,IAAI,CAACI,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,QAAzB,EAAmC,aAAnC,CA9BpB;AA+BAR,YAAAA,EAAE,CAAC2B,aAAH,CAAiBD,WAAjB,EAA8BR,OAA9B;AACAU,YAAAA,OAAO,CAACC,GAAR,CAAY,+CAAZ;AACH,WAjCD,CAiCE,OAAOC,KAAP,EAAc;AACZF,YAAAA,OAAO,CAACE,KAAR,CAAc,0CAAd,EAA0DA,KAA1D;AACH;;AApCL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAuCAC,MAAM,CAACC,OAAP,GAAiB;AAAE5B,EAAAA,0BAA0B,EAA1BA;AAAF,CAAjB","sourcesContent":["const fs = require('fs');\r\nconst path = require('path');\r\nconst { APP_CONFIG } = require('../constants.js');\r\n\r\n// Funcție pentru generarea sitemap-ului în timpul build-ului\r\nasync function generateSitemapDuringBuild() {\r\n    try {\r\n        const configPath = path.join(process.cwd(), 'public', 'site-config.json');\r\n        const configData = fs.readFileSync(configPath, 'utf8');\r\n        const siteConfig = JSON.parse(configData);\r\n\r\n        const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || APP_CONFIG.BASE_SITE_URL;\r\n\r\n        const sitemap = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\r\n    <url>\r\n        <loc>${baseUrl}</loc>\r\n        <lastmod>${new Date().toISOString()}</lastmod>\r\n        <changefreq>daily</changefreq>\r\n        <priority>1.0</priority>\r\n    </url>\r\n    <url>\r\n        <loc>${baseUrl}/blog</loc>\r\n        <lastmod>${new Date().toISOString()}</lastmod>\r\n        <changefreq>daily</changefreq>\r\n        <priority>0.8</priority>\r\n    </url>\r\n    ${siteConfig.articles.map(article => `\r\n    <url>\r\n        <loc>${baseUrl}/blog/${article.slug}</loc>\r\n        <lastmod>${article.updatedAt}</lastmod>\r\n        <changefreq>weekly</changefreq>\r\n        <priority>0.6</priority>\r\n    </url>`).join('')}\r\n</urlset>`;\r\n\r\n        const sitemapPath = path.join(process.cwd(), 'public', 'sitemap.xml');\r\n        fs.writeFileSync(sitemapPath, sitemap);\r\n        console.log('✅ Sitemap generated successfully during build');\r\n    } catch (error) {\r\n        console.error('❌ Error generating sitemap during build:', error);\r\n    }\r\n}\r\n\r\nmodule.exports = { generateSitemapDuringBuild };\r\n"],"file":"buildSitemap.dev.js"}